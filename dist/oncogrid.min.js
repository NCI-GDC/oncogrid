!function t(e,r,o){function n(i,s){if(!r[i]){if(!e[i]){var d="function"==typeof require&&require;if(!s&&d)return d(i,!0);if(a)return a(i,!0);throw new Error("Cannot find module '"+i+"'")}var c=r[i]={exports:{}};e[i][0].call(c.exports,function(t){var r=e[i][1][t];return n(r?r:t)},c,c.exports,t,e,r,o)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)n(o[i]);return n}({1:[function(t,e,r){"use strict";var o;o=function(t,e,r){var o=this;o.prefix=t.prefix||"og-",o.observations=t.observations,o.svg=e,o.rotated=r||!1,o.domain=(o.rotated?t.genes:t.donors)||[],o.margin=t.margin||{top:30,right:15,bottom:15,left:80},o.width=t.width||500,o.height=t.height||500,o.histogramWidth=o.rotated?o.height:o.width,o.histogramHeight=80,o.numDomain=o.domain.length,o.barWidth=(o.rotated?o.height:o.width)/o.domain.length},o.prototype.render=function(t,e){function r(){for(var t=1,e=0;e<o.domain.length;e++){var r=o.domain[e];t=Math.max(t,r.count)}return t}var o=this;o.x=t,o.div=e;var n=r();o.container=o.svg.append("g").attr("class",o.prefix+"histogram").attr("width",function(){return o.rotated?o.height:o.width+o.margin.left+o.margin.right}).attr("height",o.histogramHeight).style("margin-left",o.margin.left+"px").attr("transform",function(){return o.rotated?"rotate(90)translate(0,-"+o.width+")":""}),o.histogram=o.container.append("g").attr("transform","translate(0,-"+(o.histogramHeight+o.margin.top/1.61803398875)+")"),o.renderAxis(n),o.histogram.selectAll("rect").data(o.domain).enter().append("rect").on("mouseover",function(t){o.div.transition().duration(200).style("opacity",.9),o.div.html("ID: "+t.id+"<br/> Count:"+t.count+"<br/>").style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-28+"px")}).on("mouseout",function(){o.div.transition().duration(500).style("opacity",0)}).on("click",o.clickFunc).transition().attr("class",function(t){return o.prefix+"sortable-bar "+t.id+"-bar"}).attr("width",o.barWidth-1).attr("height",function(t){return o.histogramHeight*t.count/n}).attr("x",function(t){return o.x(o.getIndex(o.domain,t.id))}).attr("y",function(t){return o.histogramHeight-o.histogramHeight*t.count/n}).attr("fill","#1693C0")},o.prototype.update=function(t,e){var r=this;r.x=e,r.domain=t,r.barWidth=(r.rotated?r.height:r.width)/r.domain.length,r.histogram.selectAll("rect").transition().attr("width",r.barWidth-1).attr("x",function(t){return r.x(r.getIndex(r.domain,t.id))})},o.prototype.resize=function(t,e){var r=this;r.width=t,r.height=e,r.histogramWidth=r.rotated?r.height:r.width,r.container.attr("width",function(){return r.rotated?r.height:r.width+r.margin.left+r.margin.right}).attr("transform",function(){return r.rotated?"rotate(90)translate(0,-"+r.width+")":""}),r.histogram.attr("transform","translate(0,-"+(r.histogramHeight+r.margin.top/1.61803398875)+")"),r.bottomAxis.attr("x2",r.histogramWidth+10)},o.prototype.renderAxis=function(t){var e=this;e.bottomAxis=e.histogram.append("line").attr("class",e.prefix+"histogram-axis").attr("y1",e.histogramHeight+5).attr("y2",e.histogramHeight+5).attr("x2",e.histogramWidth+10).attr("transform","translate(-5,0)"),e.histogram.append("line").attr("class",e.prefix+"histogram-axis").attr("y1",0).attr("y2",e.histogramHeight+5).attr("transform","translate(-5,0)"),e.histogram.append("text").attr("class",e.prefix+"label-text-font").attr("x",-6).attr("dy",".32em").attr("text-anchor","end").text(t);var r=parseInt(t/2),o=e.histogramHeight-e.histogramHeight/(t/r);e.histogram.append("text").attr("class",e.prefix+"label-text-font").attr("x",-6).attr("y",o).attr("dy",".32em").attr("text-anchor","end").text(r),e.histogram.append("text").attr("class",e.prefix+"label-text-font").attr("dy",".32em").attr("text-anchor","end").attr("transform","rotate(-90)translate("+o/-2+",-25)").text("Mutation freq.")},o.prototype.getIndex=function(t,e){for(var r=0;r<t.length;r++){var o=t[r];if(o.id===e)return r}return-1},o.prototype.destroy=function(){var t=this;t.histogram.remove(),t.container.remove()},e.exports=o},{}],2:[function(t,e,r){"use strict";var o,n=t("./Histogram"),a=t("./Track");o=function(t,e,r){var o=this;o.lookupTable=e,o.updateCallback=r,o.loadParams(t),o.init(),o.donorHistogram=new n(t,o.svg,!1),o.donorTrack=new a(t,o.svg,!1,t.donorTracks,t.donorOpacityFunc,t.donorFillFunc),o.donorTrack.init(),o.geneHistogram=new n(t,o.svg,!0),o.geneTrack=new a(t,o.svg,!0,t.geneTracks,t.geneOpacityFunc,t.donorFillFunc),o.geneTrack.init()},o.prototype.loadParams=function(t){var e=this;e.prefix=t.prefix||"og-",e.minCellHeight=t.minCellHeight||8,e.donors=t.donors||[],e.genes=t.genes||[],e.observations=t.observations||[],e.element=t.element||"body",e.colorMap=t.colorMap||{missense_variant:"#ff825a",frameshift_variant:"#57dba4",stop_gained:"#af57db",start_lost:"#af57db",stop_lost:"#ffe",initiator_codon_variant:"#af57db"},e.numDonors=e.donors.length,e.numGenes=e.genes.length,e.width=t.width||500,e.height=t.height||500,e.cellWidth=e.width/e.donors.length,e.cellHeight=e.height/e.genes.length,e.margin=t.margin||{top:30,right:100,bottom:15,left:80},e.heatMap=t.heatMap,e.histogramHeight=100,e.drawGridLines=!1,e.crosshair=!1,e.gridClick=t.gridClick},o.prototype.init=function(){var t=this;t.div=d3.select(t.element).append("div").attr("class",t.prefix+"tooltip-oncogrid").style("opacity",0),t.svg=d3.select(t.element).append("svg").attr("class",t.prefix+"maingrid-svg").attr("width",t.width+t.margin.left+t.margin.right+2*t.histogramHeight).attr("height",t.height+t.margin.top+t.margin.bottom+2*t.histogramHeight).style("margin-left",t.margin.left+"px").append("g").attr("transform","translate("+t.margin.left+","+(t.margin.top+t.histogramHeight)+")"),t.background=t.svg.append("rect").attr("class","background").attr("width",t.width).attr("height",t.height)},o.prototype.render=function(){var t=this;t.computeCoordinates(),t.svg.selectAll("."+t.prefix+"maingrid-svg").data(t.observations).enter().append("rect").on("mouseover",function(e){t.div.transition().duration(200).style("opacity",.9),t.div.html(e.id+"<br/>"+e.geneId+"<br/>"+e.donorId+"<br/>"+e.consequence).style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-28+"px")}).on("mouseout",function(e){t.div.transition().duration(500).style("opacity",0)}).on("click",function(e){"undefined"!=typeof t.gridClick&&t.gridClick(e)}).transition().attr("class",function(e){return t.prefix+"sortable-rect "+e.donorId+"-cell "+e.geneId+"-cell"}).attr("cons",function(t){return t.consequence}).attr("x",function(e){return t.x(t.getDonorIndex(t.donors,e.donorId))}).attr("y",function(e){return t.getY(e)}).attr("width",t.cellWidth).attr("height",function(e){return t.getHeight(e)}).attr("fill",function(e){return t.getColor(e)}).attr("opacity",function(e){return t.getOpacity(e)}).attr("stroke-width",2),t.donorHistogram.render(t.x,t.div),t.donorTrack.render(t.x),t.geneHistogram.render(t.y,t.div),t.geneTrack.render(t.y),t.defineCrosshairBehaviour()},o.prototype.update=function(){var t=this;t.numDonors!==t.donors.length||t.numGenes!==t.genes.length?(t.numDonors=t.donors.length,t.numGenes=t.genes.length,t.cellWidth=t.width/t.numDonors,t.cellHeight=t.height/t.numGenes,t.computeCoordinates()):(console.log(t.cellHeight),t.row.selectAll("text").attr("style",function(){return t.cellHeight<8?"display: none;":""})),t.row.transition().attr("transform",function(e){return"translate( 0, "+t.y(t.genes.indexOf(e))+")"}),t.svg.selectAll("."+t.prefix+"sortable-rect").transition().attr("width",t.cellWidth).attr("height",function(e){return t.getHeight(e)}).attr("y",function(e){return t.getY(e)}).attr("x",function(e){return t.x(t.getDonorIndex(t.donors,e.donorId))}),t.donorHistogram.update(t.donors,t.x),t.donorTrack.update(t.donors,t.x),t.geneHistogram.update(t.genes,t.y),t.geneTrack.update(t.genes,t.y)},o.prototype.computeCoordinates=function(){var t=this;t.x=d3.scale.ordinal().domain(d3.range(t.donors.length)).rangeBands([0,t.width]),t.cellWidth=t.width/t.donors.length,"undefined"!=typeof t.column&&t.column.remove(),t.column=t.svg.selectAll("."+t.prefix+"donor-column").data(t.donors).enter().append("g").attr("class",t.prefix+"donor-column").attr("donor",function(t){return t.id}).attr("transform",function(e,r){return"translate("+t.x(r)+")rotate(-90)"}),t.drawGridLines&&t.column.append("line").attr("x1",-t.height),t.y=d3.scale.ordinal().domain(d3.range(t.genes.length)).rangeBands([0,t.height]),t.cellHeight=t.height/t.genes.length,"undefined"!=typeof t.row&&t.row.remove(),t.row=t.svg.selectAll("."+t.prefix+"gene-row").data(t.genes).enter().append("g").attr("class",t.prefix+"gene-row").attr("transform",function(e,r){return"translate(0,"+t.y(r)+")"}),t.drawGridLines&&t.row.append("line").attr("x2",t.width),t.row.append("text").attr("class",function(e){return e.id+"-label "+t.prefix+"gene-label "+t.prefix+"label-text-font"}).transition().attr("x",-8).attr("y",t.cellHeight/2).attr("dy",".32em").attr("text-anchor","end").attr("style",function(){return t.cellHeight<8?"display: none;":""}).text(function(e,r){return t.genes[r].symbol}),t.defineRowDragBehaviour()},o.prototype.resize=function(t,e){var r=this;r.width=t,r.height=e,r.verticalCross.attr("y2",e),r.horizontalCross.attr("x2",t),d3.select(".og-maingrid-svg").attr("width",r.width+r.margin.left+r.margin.right+2*r.histogramHeight).attr("height",r.height+r.margin.top+r.margin.bottom+2*r.histogramHeight),r.background.attr("width",r.width).attr("height",r.height),r.cellWidth=r.width/r.numDonors,r.cellHeight=r.height/r.numGenes,r.computeCoordinates(),r.donorHistogram.resize(t,e),r.donorTrack.resize(t,e),r.geneHistogram.resize(t,e),r.geneTrack.resize(t,e),r.update()},o.prototype.defineCrosshairBehaviour=function(){var t=this;t.verticalCross=t.svg.append("line").attr("class",t.prefix+"vertical-cross").attr("y1",0).attr("y2",t.height).attr("opacity",0),t.horizontalCross=t.svg.append("line").attr("class",t.prefix+"horizontal-cross").attr("x1",0).attr("x2",t.width).attr("opacity",0),t.svg.on("mouseover",function(){if(t.crosshair){var e=d3.mouse(this);t.verticalCross.attr("x1",e[0]).attr("opacity",1),t.verticalCross.attr("x2",e[0]).attr("opacity",1),t.horizontalCross.attr("y1",e[1]).attr("opacity",1),t.horizontalCross.attr("y2",e[1]).attr("opacity",1);var r=t.rangeToDomain(t.x,e[0]),o=t.rangeToDomain(t.y,e[1]);t.div.transition().duration(200).style("opacity",.9),t.div.html("Donor: "+t.donors[r].id+"</br>Gene: "+t.genes[o].id).style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-28+"px")}}).on("mousemove",function(){if(t.crosshair){var e=d3.mouse(this);t.verticalCross.attr("x1",e[0]).attr("opacity",1),t.verticalCross.attr("x2",e[0]).attr("opacity",1),t.horizontalCross.attr("y1",e[1]).attr("opacity",1),t.horizontalCross.attr("y2",e[1]).attr("opacity",1);var r=t.rangeToDomain(t.x,e[0]),o=t.rangeToDomain(t.y,e[1]);t.div.html("Donor: "+t.donors[r].id+"</br>Gene: "+t.genes[o].id).style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-28+"px")}}).on("mouseout",function(){t.crosshair&&(t.div.transition().duration(500).style("opacity",0),t.verticalCross.attr("opacity",0),t.horizontalCross.attr("opacity",0))})},o.prototype.defineRowDragBehaviour=function(){var t=this,e=d3.behavior.drag();e.on("dragstart",function(){d3.event.sourceEvent.stopPropagation()}),e.on("drag",function(e){var r=d3.event.dy,o=t.genes.indexOf(e),n=d3.select(this);n.attr("transform",function(){var t=d3.transform(d3.select(this).attr("transform"));return"translate( 0, "+(parseInt(t.translate[1])+r)+")"});var a=d3.transform(d3.select(this).attr("transform")).translate[1];t.row.each(function(e){var n,i,s=t.genes.indexOf(e);r>0&&s>o?(i=d3.transform(d3.select(this).attr("transform")).translate[1],a>i&&(n=t.genes[o],t.genes[o]=t.genes[s],t.genes[s]=n)):0>r&&o>s&&(i=d3.transform(d3.select(this).attr("transform")).translate[1],i>a&&(n=t.genes[o],t.genes[o]=t.genes[s],t.genes[s]=n))})}),e.on("dragend",function(){t.updateCallback(!0)});var r=t.row.call(e);r.on("click",function(){d3.event.defaultPrevented}),t.row.on("mouseover",function(){var e=this;"undefined"!=typeof e.timeout&&clearTimeout(e.timeout),d3.select(this).select("."+t.prefix+"remove-gene").attr("style","display: block")}),t.row.on("mouseout",function(){var e=this;e.timeout=setTimeout(function(){d3.select(e).select("."+t.prefix+"remove-gene").attr("style","display: none")},500)})},o.prototype.getY=function(t){var e=this,r=e.genes.map(function(t){return t.id});if(e.heatMap===!0)return e.y(r.indexOf(t.geneId));var o=e.lookupTable[t.donorId][t.geneId];return e.y(r.indexOf(t.geneId))+e.cellHeight/o.length*o.indexOf(t.id)},o.prototype.getColor=function(t){var e=this;return e.heatMap===!0?"#D33682":e.colorMap[t.consequence]},o.prototype.getOpacity=function(){var t=this;return t.heatMap===!0?.3:1},o.prototype.getHeight=function(t){var e=this;if("undefined"!=typeof t){if(e.heatMap===!0)return e.cellHeight;var r=e.lookupTable[t.donorId][t.geneId].length;return e.cellHeight/r}return 0},o.prototype.toggleHeatmap=function(){var t=this;t.heatMap=t.heatMap!==!0,d3.selectAll("."+t.prefix+"sortable-rect").transition().attr("y",function(e){return t.getY(e)}).attr("height",function(e){return t.getHeight(e)}).attr("fill",function(e){return t.getColor(e)}).attr("opacity",function(e){return t.getOpacity(e)})},o.prototype.toggleGridLines=function(){var t=this;t.drawGridLines?t.drawGridLines=!1:t.drawGridLines=!0,t.geneTrack.toggleGridLines(),t.donorTrack.toggleGridLines(),t.computeCoordinates()},o.prototype.toggleCrosshair=function(){var t=this;t.crosshair?t.crosshair=!1:t.crosshair=!0},o.prototype.getDonorIndex=function(t,e){for(var r=0;r<t.length;r++){var o=t[r];if(o.id===e)return r}return-1},o.prototype.removeGene=function(t){var e=this,r=e.genes[t];r&&(d3.selectAll("."+r.id+"-cell").remove(),d3.selectAll("."+r.id+"-bar").remove(),e.genes.splice(t,1)),e.updateCallback(!0)},o.prototype.rangeToDomain=function(t,e){return t.domain()[d3.bisect(t.range(),e)-1]},o.prototype.destroy=function(){var t=this;d3.select(t.element).select("."+t.prefix+"maingrid-svg").remove(),d3.select(t.element).select("."+t.prefix+"tooltip-oncogrid").remove()},e.exports=o},{"./Histogram":1,"./Track":4}],3:[function(t,e,r){"use strict";var o,n=t("./MainGrid");o=function(t){var e=this;e.donors=t.donors||[],e.genes=t.genes||[],e.observations=t.observations||[],e.createLookupTable(),e.computeDonorCounts(),e.computeGeneCounts(),e.computeGeneScores(),e.genesSortbyScores(),e.computeScores(),e.sortByScores(),e.mainGrid=new n(t,e.lookupTable,e.update(e)),e.charts=[],e.charts.push(e.mainGrid)},o.prototype.createLookupTable=function(){for(var t=this,e={},r=0;r<t.observations.length;r++){var o=t.observations[r],n=o.donorId,a=o.geneId;e.hasOwnProperty(n)?e[n].hasOwnProperty(a)?e[n][a].push(o.id):e[n][a]=[o.id]:(e[n]={},e[n][a]=[o.id]),t.lookupTable=e}},o.prototype.render=function(){var t=this;t.charts.forEach(function(t){t.render()})},o.prototype.update=function(t){var e=t;return function(t){t="undefined"==typeof t||null===t?!1:t,t&&(e.computeScores(),e.sortByScores()),e.charts.forEach(function(t){t.update()})}},o.prototype.resize=function(t,e){var r=this;r.charts.forEach(function(r){r.resize(Number(t),Number(e))})},o.prototype.sortByScores=function(){var t=this;t.donors.sort(t.sortScore)},o.prototype.genesSortbyScores=function(){var t=this;t.genes.sort(t.sortScore)},o.prototype.getDonorIndex=function(t,e){for(var r=0;r<t.length;r++){var o=t[r];if(o.id===e)return r}return-1},o.prototype.cluster=function(){var t=this;t.genesSortbyScores(),t.computeScores(),t.sortByScores(),t.update(t)()},o.prototype.removeDonors=function(t){for(var e=this,r=[],o=0;o<e.donors.length;o++){var n=e.donors[o];t(n)&&(r.push(n.id),d3.selectAll("."+n.id+"-cell").remove(),d3.selectAll("."+n.id+"-bar").remove(),e.donors.splice(o,1),o--)}for(var a=0;a<e.observations.length;a++){var i=e.observations[a];e.donors.indexOf(i.id)>=0&&(e.observations.splice(a,1),a--)}e.computeGeneScores(),e.update(e)()},o.prototype.removeGenes=function(t){for(var e=this,r=[],o=0;o<e.genes.length;o++){var n=e.genes[o];t(n)&&(r.push(n.id),d3.selectAll("."+n.id+"-cell").remove(),d3.selectAll("."+n.id+"-bar").remove(),e.genes.splice(o,1),o--)}e.update(e)()},o.prototype.sortDonors=function(t){var e=this;e.donors.sort(t),e.update(e)()},o.prototype.sortGenes=function(t){var e=this;e.computeScores(),e.sortByScores(),e.genes.sort(t),e.update(e)()},o.prototype.toggleHeatmap=function(){var t=this;t.mainGrid.toggleHeatmap()},o.prototype.toggleGridLines=function(){var t=this;t.mainGrid.toggleGridLines()},o.prototype.toggleCrosshair=function(){var t=this;t.mainGrid.toggleCrosshair()},o.prototype.mutationScore=function(t,e){var r=this;return r.lookupTable.hasOwnProperty(t)&&r.lookupTable[t].hasOwnProperty(e)?1:0},o.prototype.mutationGeneScore=function(t,e){var r=this;return r.lookupTable.hasOwnProperty(t)&&r.lookupTable[t].hasOwnProperty(e)?r.lookupTable[t][e].length:0},o.prototype.computeScores=function(){for(var t=this,e=0;e<t.donors.length;e++){var r=t.donors[e];r.score=0;for(var o=0;o<t.genes.length;o++){var n=t.genes[o];r.score+=t.mutationScore(r.id,n.id)*Math.pow(2,t.genes.length+1-o)}}},o.prototype.computeGeneScores=function(){for(var t=this,e=0;e<t.genes.length;e++){var r=t.genes[e];r.score=0;for(var o=0;o<t.donors.length;o++){var n=t.donors[o];r.score+=t.mutationGeneScore(n.id,r.id)}}},o.prototype.computeDonorCounts=function(){for(var t=this,e=0;e<t.donors.length;e++){var r=t.donors[e];r.count=0;for(var o=0;o<t.observations.length;o++){var n=t.observations[o];r.id===n.donorId&&(r.count+=1)}}},o.prototype.computeGeneCounts=function(){for(var t=this,e=0;e<t.genes.length;e++){var r=t.genes[e];r.count=0;for(var o=0;o<t.observations.length;o++){var n=t.observations[o];r.id===n.geneId&&(r.count+=1)}}},o.prototype.sortScore=function(t,e){return t.score<e.score?1:t.score>e.score?-1:0},o.prototype.destroy=function(){var t=this;t.charts.forEach(function(t){t.destroy()})},e.exports=o},{"./MainGrid":2}],4:[function(t,e,r){"use strict";var o;o=function(t,e,r,o,n,a){var i=this;i.prefix=t.prefix||"og-",i.svg=e,i.rotated=r||!1,i.margin=t.margin||{top:30,right:15,bottom:15,left:80},i.domain=(i.rotated?t.genes:t.donors)||[],i.width=(i.rotated?t.height:t.width)||500,i.cellHeight=t.trackHeight||20,i.numDomain=i.domain.length,i.cellWidth=i.width/i.numDomain,i.availableTracks=o||[],i.opacityFunc=n,i.fillFunc=a,i.translateDown=(i.rotated?-1*(t.width+150+i.availableTracks.length*i.cellHeight):t.height)||500,i.height=i.cellHeight*i.availableTracks.length,i.drawGridLines=!1},o.prototype.init=function(){var t=this;t.trackData=[];for(var e=0;e<t.domain.length;e++)for(var r=0;r<t.availableTracks.length;r++)t.trackData.push({id:t.domain[e].id,value:t.domain[e][t.availableTracks[r].fieldName],fieldName:t.availableTracks[r].fieldName,type:t.availableTracks[r].type});t.container=t.svg.append("g").attr("width",t.width).attr("height",t.height).attr("class",t.prefix+"track").attr("transform",function(){return t.rotated?"rotate(90)":""}),t.track=t.container.append("g").attr("transform","translate(0,"+(t.translateDown+t.margin.top/1.61803398875)+")"),t.background=t.track.append("rect").attr("class","background").attr("width",t.width).attr("height",t.height)},o.prototype.render=function(t){var e=this;e.x=t,e.computeCoordinates(),e.track.selectAll("."+e.prefix+"track").data(e.trackData).enter().append("rect").transition().attr("class",function(t){return e.prefix+"track-data "+e.prefix+"track-"+t.fieldName+" "+e.prefix+"track-"+t.value+" "+t.id+"-cell"}).attr("x",function(t){return e.getX(t)}).attr("y",function(t){return e.getY(t)}).attr("width",e.cellWidth).attr("height",e.cellHeight).attr("fill",e.fillFunc).attr("opacity",e.opacityFunc)},o.prototype.resize=function(t,e){var r=this;r.width=r.rotated?e:t,r.cellWidth=r.width/r.numDomain,r.height=r.cellHeight*r.availableTracks.length,r.translateDown=(r.rotated?-1*(t+150+r.availableTracks.length*r.cellHeight):e)||500,r.container.attr("width",r.width).attr("height",r.height),r.track.attr("transform","translate(0,"+(r.translateDown+r.margin.top/1.61803398875)+")"),r.background.attr("width",r.width).attr("height",r.height),r.computeCoordinates()},o.prototype.update=function(t,e){var r=this;r.domain=t,r.x=e,r.domain.length!==r.numDomain&&(r.numDomain=r.domain.length,r.computeCoordinates(),r.cellWidth=r.width/r.numDomain),r.track.selectAll("."+r.prefix+"track-data").transition().attr("x",function(t){return r.getX(t)}).attr("width",r.cellWidth)},o.prototype.getX=function(t){var e=this,r=e.domain.map(function(t){return t.id});return e.x(r.indexOf(t.id))},o.prototype.getY=function(t){var e=this,r=e.availableTracks.map(function(t){return t.fieldName});return e.y(r.indexOf(t.fieldName))},o.prototype.computeCoordinates=function(){var t=this;"undefined"!=typeof t.column&&t.column.remove(),t.column=t.track.selectAll("."+t.prefix+"column").data(t.domain).enter().append("g").attr("class",t.prefix+"column").attr("donor",function(t){return t.id}).attr("transform",function(e,r){return"translate("+t.x(r)+")rotate(-90)"}),t.drawGridLines&&t.column.append("line").attr("x1",-t.height),t.y=d3.scale.ordinal().domain(d3.range(t.availableTracks.length)).rangeBands([0,t.height]),"undefined"!=typeof t.row&&t.row.remove(),t.row=t.track.selectAll("."+t.prefix+"row").data(t.availableTracks).enter().append("g").attr("class",t.prefix+"row").attr("transform",function(e,r){return"translate(0,"+t.y(r)+")"}),t.drawGridLines&&t.row.append("line").attr("x2",t.width),t.row.append("text").attr("class",t.prefix+"gene-label "+t.prefix+"label-text-font").transition().attr("x",-6).attr("y",t.cellHeight/2).attr("dy",".32em").attr("text-anchor","end").text(function(e,r){return t.availableTracks[r].name})},o.prototype.toggleGridLines=function(){var t=this;t.drawGridLines?t.drawGridLines=!1:t.drawGridLines=!0,t.computeCoordinates()},e.exports=o},{}],5:[function(t,e,r){"use strict";window.OncoGrid=t("./OncoGrid")},{"./OncoGrid":3}]},{},[5]);